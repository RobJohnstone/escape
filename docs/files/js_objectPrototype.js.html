<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>js/objectPrototype.js - escape</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title="escape"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.1.4-23</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/actorPrototype.html">actorPrototype</a></li>
            
                <li><a href="../classes/actors.html">actors</a></li>
            
                <li><a href="../classes/assetLoader.html">assetLoader</a></li>
            
                <li><a href="../classes/baddyPrototype.html">baddyPrototype</a></li>
            
                <li><a href="../classes/campaign.html">campaign</a></li>
            
                <li><a href="../classes/entities.html">entities</a></li>
            
                <li><a href="../classes/entityPrototype.html">entityPrototype</a></li>
            
                <li><a href="../classes/game.html">game</a></li>
            
                <li><a href="../classes/graphics.html">graphics</a></li>
            
                <li><a href="../classes/input.html">input</a></li>
            
                <li><a href="../classes/map.html">map</a></li>
            
                <li><a href="../classes/objectPrototype.html">objectPrototype</a></li>
            
                <li><a href="../classes/palette.html">palette</a></li>
            
                <li><a href="../classes/playerPrototype.html">playerPrototype</a></li>
            
                <li><a href="../classes/polyfills.html">polyfills</a></li>
            
                <li><a href="../classes/projectilePrototype.html">projectilePrototype</a></li>
            
                <li><a href="../classes/screen.html">screen</a></li>
            
                <li><a href="../classes/tabPrototype.html">tabPrototype</a></li>
            
                <li><a href="../classes/tiles.html">tiles</a></li>
            
                <li><a href="../classes/tilesTab.html">tilesTab</a></li>
            
                <li><a href="../classes/timer.html">timer</a></li>
            
                <li><a href="../classes/tools.html">tools</a></li>
            
                <li><a href="../classes/util.html">util</a></li>
            
                <li><a href="../classes/vector.html">vector</a></li>
            
                <li><a href="../classes/weapons.html">weapons</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/actorPrototype.html">actorPrototype</a></li>
            
                <li><a href="../modules/actors.html">actors</a></li>
            
                <li><a href="../modules/assetLoader.html">assetLoader</a></li>
            
                <li><a href="../modules/baddyPrototype.html">baddyPrototype</a></li>
            
                <li><a href="../modules/campaign.html">campaign</a></li>
            
                <li><a href="../modules/edit.html">edit</a></li>
            
                <li><a href="../modules/entities.html">entities</a></li>
            
                <li><a href="../modules/game.html">game</a></li>
            
                <li><a href="../modules/graphics.html">graphics</a></li>
            
                <li><a href="../modules/input.html">input</a></li>
            
                <li><a href="../modules/map.html">map</a></li>
            
                <li><a href="../modules/objectPrototype.html">objectPrototype</a></li>
            
                <li><a href="../modules/palette.html">palette</a></li>
            
                <li><a href="../modules/playerPrototype.html">playerPrototype</a></li>
            
                <li><a href="../modules/polyfills.html">polyfills</a></li>
            
                <li><a href="../modules/projectilePrototype.html">projectilePrototype</a></li>
            
                <li><a href="../modules/screen.html">screen</a></li>
            
                <li><a href="../modules/tiles.html">tiles</a></li>
            
                <li><a href="../modules/timer.html">timer</a></li>
            
                <li><a href="../modules/util.html">util</a></li>
            
                <li><a href="../modules/vector.html">vector</a></li>
            
                <li><a href="../modules/weapons.html">weapons</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: js/objectPrototype.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
	/**
 * Extend Object.prototype with helper methods to simplify inheritance
 *
 * Escape uses prototypal style inheritance rather than the constructor / pseudo-classical 
 * approach used by many javascript developers. The &quot;blueprints&quot; for each type of object
 * are defined as objects in files named &quot;&lt;type&gt;Prototype.js&quot;. A new object of that type can 
 * be created using &quot;var newObj = &lt;type&gt;Prototype.create();&quot;. To create a new prototype based
 * upon a previous one use &quot;var newPrototype = &lt;type&gt;Prototype.extend();&quot;
 * 
 * It could be argued that extending Object.prototype in this way is an anti-pattern due to the
 * effect it could have on code written by those who are unaware that it has been extended. However,
 * the code below takes account of the most common types of conflict and employs suitable preventative
 * measures so this sort of problem should not occur. 
 *
 * @module objectPrototype
 * @class objectPrototype
 */

(function(Object) { // pass in Object as an argument to prevent minification bugs
	&quot;use strict&quot;;

	/* The pattern used here is to define methods first and then add them to Object.prototype afterwards
	 * This is necessary to solve the enumeration problem but it confuses jsHint which thinks that &#x27;this&#x27; is
	 * being used in a function rather than a method of an object. The following comment is required
	 * to solve the problem: */
	/* jshint validthis: true */

	/**
	 * Return a new object inheriting from the previous one
	 *
	 * @method extend
	 * @param propertiesObject an object that contains properties to add to the new object (overwriting previous ones with the same name)
	 * The reason to use this over Object.create is that to pass in properties to the new object, Object.create requires property descriptors as its
	 * second argument rather than a straightforward object
	 * @return {object} The new object
	 */
	function extend(propertiesObject) {
		var propertyDescriptors = {};
		if (propertiesObject) {
			for (var property in propertiesObject) {
				propertyDescriptors[property] = {value: propertiesObject[property], writable: true, configurable: true, enumerable: true};
			}
		}
		return Object.create(this, propertyDescriptors);
	}

	/**
	 * Create a new object based on this prototype, modify according to the passed in parameters and run the init method if available
	 *
	 * @method create
	 * @param propertiesObject an object that contains properties to add to the new object
	 * @param [initObject]* Any other parameters are passed to the init function
	 * @return {object} The new object
	 */
	function create(propertiesObject) {
		var object = this.extend(propertiesObject);
		var initArgs = [];
		for (var i=1; i&lt;arguments.length; i++) {
			initArgs.push(arguments[i]);
		}
		if (typeof object.init === &quot;function&quot;) object.init.apply(object, initArgs);
		return object;
	}

	/**
	 * Creates a copy of an object rather than a reference to that object
	 * Note that it is not recursive and does not copy inherited properties
	 *
	 * @method clone
	 * @return {object} A new object identical to the original
	 */
	function clone() {
		var newObj = {};
		for (var property in this) {
			if (this.hasOwnProperty(property)) {
				newObj[property] = this[property];
			}
		}
		return newObj;
	}


	/* Add the methods to Object.prototype in this way to ensure that they are not enumerable and are therefore less likely to cause issues with 
	 * third party code (normal assignment to Object.prototype caused havoc with jQuery!) 
	 * 
	 * @private
	 * @method _addToObjectPrototype
	 * @param method {function} The method to add to Object.prototype
	 */
	function _addToObjectPrototype(method) {
		var propertyDescriptor = {};
		if (Object.prototype[method.name] === undefined) {
			Object.defineProperty(Object.prototype, method.name, {value: method, writable: true}); // enumerable if not defined defaults to false
		}
		else {
			throw &quot;The method &quot;+method.name+&quot;already exists in Object.prototype&quot;;
		}
	}

	_addToObjectPrototype(extend);
	_addToObjectPrototype(create);
	_addToObjectPrototype(clone);
})(Object);
    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
